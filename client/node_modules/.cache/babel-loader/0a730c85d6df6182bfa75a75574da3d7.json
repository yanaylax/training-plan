{"ast":null,"code":"var _jsxFileName = \"/home/yanay/projects/novos/training-plan/client/src/components/training-plan-manager/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport TrainingPlan from \"./components/training-plan\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport CreateSession from \"./components/create-session\";\nimport SessionBank from \"./components/session-bank\";\nimport { useDispatch } from \"react-redux\";\nimport { clearTrainingPlan, getSessions, reset } from \"../../redux/sessions/sessionsSlice\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport useDrag from \"./hooks/useDrag\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SessionListsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  gap: 20px;\n\n  & > * {\n    flex: 1;\n    max-width: 50%;\n    & > .title-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n    & > .title-container > h2 {\n      height: 50px;\n      margin-bottom: 16px;\n      font-size: 18px;\n      color: white;\n      font-weight: 500;\n      ::before {\n        content: \"\";\n        height: 10px;\n        width: 10px;\n        background-color: #c82879;\n        border-radius: 50%;\n        display: inline-block;\n        margin-right: 8px;\n      }\n    }\n    & > .title-container > h2 {\n      margin-bottom: 0;\n      height: auto;\n    }\n    & > .title-container {\n      margin-bottom: 16px;\n      height: 50px;\n      & > button {\n        border: none;\n        font-size: 16px;\n        border-radius: 4px;\n        padding: 8px 10px;\n        background-color: #433558;\n        color: #745e76;\n        opacity: 0.8;\n        font-weight: 600;\n        &:hover {\n          cursor: pointer;\n          opacity: 1;\n          transition: opacity 0.1s ease-in;\n        }\n      }\n    }\n  }\n`;\n_c = SessionListsContainer;\nconst TrainingPlanManagerContainer = styled.div`\n  display: flex;\n  padding: 80px;\n  gap: 32px;\n`;\n_c2 = TrainingPlanManagerContainer;\nexport default function TrainingPlanManager() {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    isError,\n    isLoading,\n    message\n  } = useSelector(state => state.sessions);\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/\");\n    } else if (user) {\n      dispatch(getSessions());\n    }\n\n    return () => dispatch(reset());\n  }, [navigate, user, dispatch, isError, message]);\n\n  const onDragEnd = result => {\n    // return if item was dropped outside\n    if (!result.destination) return; // return if the item was dropped in the same place\n\n    if (result.source.droppableId === result.destination.droppableId && result.source.index === result.destination.index) return; // get the items array\n\n    const newItems = [...data.items]; // get the draggedItems\n\n    const draggedItem = newItems[result.source.index]; // delete the item from source position and insert it to the destination positon\n\n    newItems.splice(result.source.index, 1);\n    newItems.splice(result.destination.index, 0, draggedItem); // create new data\n\n    const newData = { ...data,\n      items: newItems\n    }; // update state\n\n    setData(newData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(TrainingPlanManagerContainer, {\n    children: [/*#__PURE__*/_jsxDEV(CreateSession, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SessionListsContainer, {\n      children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n        onDragEnd: onDragEnd,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-container\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Session bank\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SessionBank, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Training plan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => dispatch(clearTrainingPlan()),\n              className: \"clear-plan\",\n              children: \"Clear training plan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TrainingPlan, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TrainingPlanManager, \"SMYtps7FDP/sPksEPDQ502rpnPY=\", false, function () {\n  return [useSelector, useDispatch, useNavigate, useSelector];\n});\n\n_c3 = TrainingPlanManager;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"SessionListsContainer\");\n$RefreshReg$(_c2, \"TrainingPlanManagerContainer\");\n$RefreshReg$(_c3, \"TrainingPlanManager\");","map":{"version":3,"names":["React","useEffect","styled","TrainingPlan","DragDropContext","CreateSession","SessionBank","useDispatch","clearTrainingPlan","getSessions","reset","useSelector","useNavigate","useDrag","SessionListsContainer","div","TrainingPlanManagerContainer","TrainingPlanManager","user","state","auth","dispatch","navigate","isError","isLoading","message","sessions","onDragEnd","result","destination","source","droppableId","index","newItems","data","items","draggedItem","splice","newData","setData"],"sources":["/home/yanay/projects/novos/training-plan/client/src/components/training-plan-manager/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport TrainingPlan from \"./components/training-plan\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport CreateSession from \"./components/create-session\";\nimport SessionBank from \"./components/session-bank\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  clearTrainingPlan,\n  getSessions,\n  reset,\n} from \"../../redux/sessions/sessionsSlice\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport useDrag from \"./hooks/useDrag\";\n\nconst SessionListsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  gap: 20px;\n\n  & > * {\n    flex: 1;\n    max-width: 50%;\n    & > .title-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n    & > .title-container > h2 {\n      height: 50px;\n      margin-bottom: 16px;\n      font-size: 18px;\n      color: white;\n      font-weight: 500;\n      ::before {\n        content: \"\";\n        height: 10px;\n        width: 10px;\n        background-color: #c82879;\n        border-radius: 50%;\n        display: inline-block;\n        margin-right: 8px;\n      }\n    }\n    & > .title-container > h2 {\n      margin-bottom: 0;\n      height: auto;\n    }\n    & > .title-container {\n      margin-bottom: 16px;\n      height: 50px;\n      & > button {\n        border: none;\n        font-size: 16px;\n        border-radius: 4px;\n        padding: 8px 10px;\n        background-color: #433558;\n        color: #745e76;\n        opacity: 0.8;\n        font-weight: 600;\n        &:hover {\n          cursor: pointer;\n          opacity: 1;\n          transition: opacity 0.1s ease-in;\n        }\n      }\n    }\n  }\n`;\n\nconst TrainingPlanManagerContainer = styled.div`\n  display: flex;\n  padding: 80px;\n  gap: 32px;\n`;\n\nexport default function TrainingPlanManager() {\n  const { user } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const { isError, isLoading, message } = useSelector(\n    (state) => state.sessions\n  );\n\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/\");\n    } else if (user) {\n      dispatch(getSessions());\n    }\n    return () => dispatch(reset());\n  }, [navigate, user, dispatch, isError, message]);\n\n  const onDragEnd = (result) => {\n    // return if item was dropped outside\n    if (!result.destination) return;\n    // return if the item was dropped in the same place\n    if (\n      result.source.droppableId === result.destination.droppableId &&\n      result.source.index === result.destination.index\n    )\n      return;\n    // get the items array\n    const newItems = [...data.items];\n    // get the draggedItems\n    const draggedItem = newItems[result.source.index];\n    // delete the item from source position and insert it to the destination positon\n    newItems.splice(result.source.index, 1);\n    newItems.splice(result.destination.index, 0, draggedItem);\n    // create new data\n    const newData = {\n      ...data,\n      items: newItems,\n    };\n    // update state\n    setData(newData);\n  };\n\n  return (\n    <TrainingPlanManagerContainer>\n      <CreateSession />\n      <SessionListsContainer>\n        <DragDropContext onDragEnd={onDragEnd}>\n          <div>\n            <div className=\"title-container\">\n              <h2>Session bank</h2>\n            </div>\n            <SessionBank />\n          </div>\n          <div>\n            <div className=\"title-container\">\n              <h2>Training plan</h2>\n              <button\n                onClick={() => dispatch(clearTrainingPlan())}\n                className=\"clear-plan\"\n              >\n                Clear training plan\n              </button>\n            </div>\n            <TrainingPlan />\n          </div>\n        </DragDropContext>\n      </SessionListsContainer>\n    </TrainingPlanManagerContainer>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}